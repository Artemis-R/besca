

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>raw_to_mtx &mdash; BESCA 2.2 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-dataframe.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> BESCA
          

          
          </a>

          
            
            
              <div class="version">
                2.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../besca.html">besca</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/index.html">code examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../besca_standard_pipeline.html">standard pipeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="../adding_new_functions.html">adding new functions to besca</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">BESCA</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>raw_to_mtx</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/besca/besca.export.raw_to_mtx.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="raw-to-mtx">
<h1>raw_to_mtx<a class="headerlink" href="#raw-to-mtx" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="besca.export.raw_to_mtx">
<code class="descclassname">besca.export.</code><code class="descname">raw_to_mtx</code><span class="sig-paren">(</span><em>adata</em>, <em>outpath='/pstore/home/julienla/Code/Besca/besca_dev/docs'</em>, <em>write_metadata=False</em>, <em>geneannotation='ENSEMBL'</em>, <em>additional_geneannotation=None</em>, <em>C_path=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/besca/export/_export.html#raw_to_mtx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#besca.export.raw_to_mtx" title="Permalink to this definition">¶</a></dt>
<dd><p>export adata.raw to .mtx (matrix.mtx, genes.tsv, barcodes, tsv)</p>
<p>exports the counts contained in adata.raw.X to a matrix.mtx file (in sparse format),
genes taken from adata.raw.var_names to genes.tsv and the
cellbarcodes from adata.obs_names to barcodes.tsv. If annotation = True, then the entire
pd.Dataframe contained in adata.obs is in addition exported to metadata.tsv.</p>
<p>Through the parameter genetannotation you can specify which type of geneidentifer is saved in
adata.raw.var_names. You can pass an additional string to the parameter additional_geneannotation
which specifies under which column name in adata.raw.var an additional geneannotation can be
found. Currently this function is only capable of dealing with geneannotation of the type
ENSEMBL or SYMBOL. This feature is intended to conserve the correct order of ENSEMBL IDs and
SYMBOL symbols in the genes.tsv file.</p>
<p>If the outpath directory does not exist, this function automatically generates it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>adata</strong> – </li>
<li><strong>str | default = current working directory</strong> (<em>outpath</em>) – filepath to the directory in which the results should be outputed, if no directory is
specified it outputs the results to the current working directory.</li>
<li><strong>write_metadata</strong> (<cite>bool</cite> | default = False) – boolian indicator if the annotation contained in adata.obs should be exported as well</li>
<li><strong>geneannotation</strong> (<cite>‘ENSEMBL</cite> or <cite>‘SYMBOL</cite>) – string indicator of the type of gene annotation saved in adata.var_names</li>
<li><strong>additional_geneannotation</strong> (<cite>str</cite> | default = None) – string identifying the coloumn name in which either the SYMBOL symbols or the ENSEMBL geneids
are contained as additional gene annotation in adata.var</li>
<li><strong>C_path</strong> (<cite>string</cite> | default = pkg_resources.resource_filename(‘besca’, ‘export/reformat’)) – File path to the location of the C-programm that is called to reformat the matrix.mtx file</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">writes out files to the specified output directory</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)">None</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, BEDA

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>